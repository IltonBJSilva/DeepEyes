<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>üåå DeepEyes - Busca Espacial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        body {
            background: #0d1117;
            color: #f8f9fa;
        }
        .card {
            background: #1c1f26;
            border: none;
        }
        .btn-primary {
            background-color: #3b82f6;
            border: none;
        }
        .btn-success {
            background-color: #10b981;
            border: none;
        }
        input::placeholder {
            color: #adb5bd;
        }
    </style>
</head>
<body>
<div class="container py-5">
    <h1 class="text-center mb-4 display-5">üåå DeepEyes Search</h1>

    <!-- Buscador -->
    <div class="input-group mb-4">
        <input id="searchBox" type="text" class="form-control" placeholder="Digite sua busca...">
        <button class="btn btn-primary" onclick="doSearch()">
            <i class="bi bi-search"></i> Buscar
        </button>
    </div>

    <!-- Resultados de busca -->
    <div id="results" class="row row-cols-1 row-cols-md-3 g-3 mb-5"></div>

    <!-- Anota√ß√µes -->
    <h3 class="mb-3">üìù Anota√ß√µes</h3>
    <div class="input-group mb-3">
        <input id="annotationText" type="text" class="form-control" placeholder="Nova anota√ß√£o">
        <button class="btn btn-success" onclick="addAnnotation()">
            <i class="bi bi-plus-circle"></i> Adicionar
        </button>
    </div>
    <ul id="annotations" class="list-group"></ul>
</div>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script>
    // Fun√ß√£o para mostrar cards de resultados
    function renderResults(items) {
        const resultsDiv = document.getElementById("results");
        resultsDiv.innerHTML = "";

        if (items.length === 0) {
            resultsDiv.innerHTML = `<div class="col"><div class="alert alert-warning text-center">Nenhum resultado encontrado.</div></div>`;
            return;
        }

        items.forEach(item => {
            const card = document.createElement("div");
            card.className = "col";
            card.innerHTML = `
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">${item.text || item.description || "Sem t√≠tulo"}</h5>
                        ${item.image_url ? `<img src="${item.image_url}" class="img-fluid rounded mt-2" alt="Imagem">` : ""}
                        <p class="card-text mt-2"><small class="text-muted">${item.source || ""}</small></p>
                    </div>
                </div>
            `;
            resultsDiv.appendChild(card);
        });
    }
</script>
</body>
</html>
